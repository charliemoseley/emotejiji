<% cache 'add_emoticon_view' do %>
<section  id="emoticon-display" class="add-emoticon"><br />
  <!-- TODO: Fix the styling/rendering of this guy and the <br /> in the label below. -->
  <p class="notification error" ng-show="isThereErrors()">
    {{errors}}
  </p>

  <a id="size-calculator">
    <pre><span></span></pre>
  </a>

  <label for="new-emoticon-description">
    <br />a short one sentence description of the emoticon
  </label>
  <input id="new-emoticon-description"
         type="text"
         ng-model="newEmoticonDescription" />
  <br />

  <label for="new-emoticon-text">
    the emoticon itself
  </label>
  <br />
  <textarea id="new-emoticon-text"
            ng-model="newEmoticonText"></textarea>
  <br />
  <br />

  <label for="add-emoticon-tags">tags for the emoticon</label>
  <input id="add-emoticon-tags"
         type="text"
         auto-complete="addTagAutoComplete"
         auto-complete-source="allTags()"
         on-keyup="addTagKeyDown" up-keys="[13]"
         ng-model="tagInput"
         autocapitalize="off"
         autocorrect="off" />

  <ul>
    <li ng-repeat="tag in tagsToAdd">
      <a ng-click="removeTag(tag)" class="label">{{tag}}</a>
    </li>
  </ul>

  <br />
  <br />
  <button ng-click="saveEmoticon()" class="btn">
    create
  </button>

  <a id="close-popover" href="{{closePopoverUrl()}}">X</a>
</section>
<% end %>